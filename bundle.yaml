description: Landscape Dense
name: landscape-dense
series: focal
docs: https://discourse.charmhub.io/t/landscape-charm-bundles/10638
applications:
  haproxy:
    charm: ch:haproxy
    channel: stable
    revision: 66
    num_units: 1
    to:
    - "0"
    expose: true
    options:
      default_timeouts: queue 60000, connect 5000, client 120000, server 120000
      global_default_bind_options: no-tlsv10
      services: ""
      ssl_cert: SELFSIGNED
  landscape-server:
    charm: ch:landscape-server
    channel: stable
    revision: 87
    num_units: 1
    to:
    - lxd:0
    constraints: mem=4096
  postgresql:
    charm: ch:postgresql
    channel: latest
    revision: 270
    num_units: 1
    to:
    - lxd:0
    options:
      extra_packages: python*-apt postgresql-contrib postgresql-.*-debversion postgresql-plpython.*
      max_connections: 500
      max_prepared_transactions: 500
    constraints: mem=2048
  rabbitmq-server:
    charm: ch:rabbitmq-server
    channel: stable
    revision: 123
    num_units: 1
    to:
    - lxd:0
machines:
  "0":
    constraints: mem=4096 root-disk=30720
relations:
    - [landscape-server, rabbitmq-server]
    - [landscape-server, haproxy]
    - [landscape-server:db, postgresql:db-admin]
